<%- include('../components/template') %>
<style>
  body {
    background: linear-gradient(135deg, #1a0033 0%, #340052 40%, #ff3cac 100%);
    min-height: 100vh;
    font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
  }
  .plugin-sidebar-container {
    max-width: 420px;
    margin: 64px auto 0 auto;
    border-radius: 1.5rem;
    box-shadow: 0 16px 60px 0 #0008, 0 2px 8px #eab30822;
    background: rgba(30, 41, 59, 0.84);
    backdrop-filter: blur(20px);
    padding: 3rem 2.2rem 2.5rem 2.2rem;
    border: 2px solid #ff3cac33;
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
  .plugin-sidebar-title {
    text-align: center;
    font-size: 2.2rem;
    font-weight: 800;
    color: #ff3cac;
    margin-bottom: 2.3rem;
    letter-spacing: 0.06em;
    text-shadow: 0 3px 30px #ff3cac55;
    background: linear-gradient(90deg, #ff3cac, #784ba0, #ffe53b, #ff3cac);
    background-size: 200% 200%;
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    -webkit-text-fill-color: transparent;
    animation: rgbtext 2s linear infinite alternate;
  }
  @keyframes rgbtext {
    0% {background-position: 0% 50%;}
    100% {background-position: 100% 50%;}
  }
  .plugin-sidebar-nav {
    display: flex;
    flex-direction: column;
    gap: 1.2rem;
  }
  .plugin-sidebar-link {
    display: flex;
    align-items: center;
    padding: 1rem 1.3rem;
    border-radius: 0.9rem;
    font-size: 1.18rem;
    font-weight: 600;
    color: #fff;
    background: linear-gradient(90deg, #ff3cac33 0%, #34005233 100%);
    text-decoration: none;
    transition: background 0.18s, color 0.18s, box-shadow 0.2s;
    box-shadow: 0 2px 10px #ff3cac22;
    border: 1.5px solid #ff3cac44;
    position: relative;
    cursor: pointer;
  }
  .plugin-sidebar-link:hover,
  .plugin-sidebar-link.active {
    background: linear-gradient(90deg,#ff3cac99 0%,#34005299 100%);
    color: #ffe53b;
    box-shadow: 0 8px 28px #ff3cac33;
    border-color: #ffe53b99;
  }
  .plugin-sidebar-link svg {
    margin-right: 0.85em;
    width: 1.6em;
    height: 1.6em;
    flex-shrink: 0;
    opacity: 0.90;
  }
  .plugin-sidebar-content {
    margin-top: 2.5rem;
    background: rgba(255,255,255,0.04);
    border-radius: 1.2rem;
    padding: 1.7rem 1.8rem;
    color: #fff;
    min-height: 180px;
    text-align: center;
    font-size: 1.15rem;
    box-shadow: 0 1px 8px #ff3cac22;
    border: 1.5px solid #ff3cac33;
  }
</style>

<div class="plugin-sidebar-container">
  <div class="plugin-sidebar-title">Plugin Manager</div>
  <nav class="plugin-sidebar-nav">
    <a href="/instance/<%= req.params.id %>/plugins/list" class="plugin-sidebar-link<% if (activeTab === 'list') { %> active<% } %>">
      <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
      All Plugins
    </a>
    <a href="/instance/<%= req.params.id %>/plugins/installed" class="plugin-sidebar-link<% if (activeTab === 'installed') { %> active<% } %>">
      <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/>
      </svg>
      Installed Plugins
    </a>
    <a href="/instance/<%= req.params.id %>/plugins/search" class="plugin-sidebar-link<% if (activeTab === 'search') { %> active<% } %>">
      <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <circle cx="11" cy="11" r="8"/>
        <line x1="21" y1="21" x2="16.65" y2="16.65"/>
      </svg>
      Search Plugins
    </a>
    <a href="/instance/<%= req.params.id %>/plugins/upload" class="plugin-sidebar-link<% if (activeTab === 'upload') { %> active<% } %>">
      <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/>
      </svg>
      Upload Plugin
    </a>
  </nav>
  <div class="plugin-sidebar-content">
    <% if (sidebarContent) { %>
      <%= sidebarContent %>
    <% } else { %>
      <span>Welcome to the Plugin Manager!<br>
      Use the sidebar to manage, install, search, or upload plugins for this instance.</span>
    <% } %>
  </div>
</div>
<%- include('../components/footer') %>
