<div class="mt-6 ml-8 mb-8">
    <div>
       <div class="hidden relative sm:block">
          <nav class="flex relative">
            <div id="sliding-background" class="absolute h-9 px-3 bg-white/10 rounded-full transition-all duration-300 ease-in-out"></div>
             <ul role="list" class="flex min-w-full mt-1.5 flex-none gap-x-2 text-sm font-normal leading-6 text-neutral-400">
                <li class="transition">
                   <a href="/instance/<%= req.params.id %>" class="nav-link2 py-2 px-3 transition border hover:bg-white/5 border-transparent hover:text-white hover:shadow rounded-full<% if (activeTab === undefined || activeTab === 'console') { %> text-white font-medium bg-white/10 shadow-sm<% } %>">
                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor" class="size-4 mb-0.5 inline-flex mr-1"><rect width="256" height="256" fill="none"/><path d="M216,48H40A16,16,0,0,0,24,64V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V64A16,16,0,0,0,216,48ZM40,64H216V80H40ZM40,192V96H216V192Z"/></svg>
                     Console
                  </a>
                </li>
                <li class="transition">
                   <a href="/instance/<%= req.params.id %>/files" class="nav-link2 py-2 px-3 transition border hover:bg-white/5 border-transparent hover:text-white hover:shadow rounded-full<% if (activeTab === 'files') { %> text-white font-medium bg-white/10 shadow-sm<% } %>">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor" class="size-4 mb-0.5 inline-flex mr-1"><rect width="256" height="256" fill="none"/><path d="M224,56H130.3L105.5,34.2A8,8,0,0,0,100,32H40A16,16,0,0,0,24,48V208a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V72A16,16,0,0,0,224,56ZM40,48h60l24,21.8V200H40ZM216,208H120V80h96V208Z"/></svg>
                      Files
                   </a>
                </li>
                <li class="transition">
                  <a href="/instance/<%= req.params.id %>/users" class="nav-link2 py-2 px-3 transition border hover:bg-white/5 border-transparent hover:text-white hover:shadow rounded-full<% if (activeTab === 'users') { %> text-white font-medium bg-white/10 shadow-sm<% } %>">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor" class="size-4 mb-0.5 inline-flex mr-1"><rect width="256" height="256" fill="none"/><path d="M164,96a36,36,0,1,1-36-36A36,36,0,0,1,164,96Zm-36,44a76,76,0,0,0-76,76,8,8,0,0,0,8,8H192a8,8,0,0,0,8-8A76,76,0,0,0,128,140Z"/></svg>
                     Users
                  </a>
               </li>
                <li class="transition">
                   <a href="/instance/<%= req.params.id %>/network" class="nav-link2 py-2 px-3 transition border hover:bg-white/5 border-transparent hover:text-white hover:shadow rounded-full<% if (activeTab === 'network') { %> text-white font-medium bg-white/10 shadow-sm<% } %>">
                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor" class="size-4 mb-0.5 inline-flex mr-1"><rect width="256" height="256" fill="none"/><path d="M240,104H184V88a40,40,0,0,0-80,0v16H16a8,8,0,0,0-8,8v96a16,16,0,0,0,16,16H232a16,16,0,0,0,16-16V112A8,8,0,0,0,240,104ZM104,88a24,24,0,0,1,48,0v16H104ZM232,208H24V120H232v88Z"/></svg>
                      Network
                   </a>
                </li>
                <li class="transition">
                  <a href="/instance/<%= req.params.id %>/archives" class="nav-link2 py-2 px-3 transition border hover:bg-white/5 border-transparent hover:text-white hover:shadow rounded-full<% if (activeTab === 'archives') { %> text-white font-medium bg-white/10 shadow-sm<% } %>">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor" class="size-4 mb-0.5 inline-flex mr-1"><rect width="256" height="256" fill="none"/><path d="M223.5,104.4,144,44.9V32a16,16,0,0,0-32,0V44.9L32.5,104.4A8,8,0,0,0,32,112v96a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V112A8,8,0,0,0,223.5,104.4ZM128,208a40,40,0,1,1,40-40A40,40,0,0,1,128,208Z"/></svg>
                     Archives
                  </a>
               </li>
               <li class="transition">
                  <a href="/instance/<%= req.params.id %>/db" class="nav-link2 py-2 px-3 transition border hover:bg-white/5 border-transparent hover:text-white hover:shadow rounded-full<% if (activeTab === 'db') { %> text-white font-medium bg-white/10 shadow-sm<% } %>">
                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor" class="size-4 mb-0.5 inline-flex mr-1"><rect width="256" height="256" fill="none"/><path d="M128,24C65.3,24,16,46.6,16,72V184c0,25.4,49.3,48,112,48s112-22.6,112-48V72C240,46.6,190.7,24,128,24Zm0,16c53.6,0,96,20.1,96,32s-42.4,32-96,32S32,84.1,32,72,74.4,40,128,40Zm96,144c0,11.9-42.4,32-96,32s-96-20.1-96-32V112c19.9,13,58.8,24,96,24s76.1-11,96-24Zm0-56c0,11.9-42.4,32-96,32s-96-20.1-96-32V96c19.9,13,58.8,24,96,24s76.1-11,96-24Z"/></svg>
                     Databases
                  </a>
               </li>
                <li class="transition">
                   <a href="/instance/<%= req.params.id %>/ftp" class="nav-link2 py-2 px-3 transition border hover:bg-white/5 border-transparent hover:text-white hover:shadow rounded-full<% if (activeTab === 'ftp') { %> text-white font-medium bg-white/10 shadow-sm<% } %>">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor" class="size-4 mb-0.5 inline-flex mr-1"><rect width="256" height="256" fill="none"/><path d="M74.6,213.8A8,8,0,0,1,72,208V184a8,8,0,0,1,16,0v24.4l43.5-43.5a8,8,0,1,1,11.3,11.3L99.3,219.7A8,8,0,0,1,74.6,213.8ZM232,128a8,8,0,0,1-8,8H120a8,8,0,0,1,0-16h96A8,8,0,0,1,232,128ZM56,128a8,8,0,0,1-8,8H32a8,8,0,0,1,0-16H48A8,8,0,0,1,56,128Z"/></svg>
                      FTP
                   </a>
                </li>
                <li class="transition">
                   <a href="/instance/<%= req.params.id %>/settings" class="nav-link2 py-2 px-3 transition border hover:bg-white/5 border-transparent hover:text-white hover:shadow rounded-full<% if (activeTab === 'settings') { %> text-white font-medium bg-white/10 shadow-sm<% } %>">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor" class="size-4 mb-0.5 inline-flex mr-1"><rect width="256" height="256" fill="none"/><path d="M237.7,110.4l-19.7-3.2a87.6,87.6,0,0,0-5.9-14.2l9.4-17.7a8,8,0,0,0-1.5-9.6l-17-17a8,8,0,0,0-9.6-1.5l-17.7,9.4a87.6,87.6,0,0,0-14.2-5.9l-3.2-19.7A8,8,0,0,0,144,16H112a8,8,0,0,0-7.9,6.7l-3.2,19.7a87.6,87.6,0,0,0-14.2,5.9l-17.7-9.4a8,8,0,0,0-9.6,1.5l-17,17a8,8,0,0,0-1.5,9.6l9.4,17.7a87.6,87.6,0,0,0-5.9,14.2l-19.7,3.2A8,8,0,0,0,16,112v32a8,8,0,0,0,6.7,7.9l19.7,3.2a87.6,87.6,0,0,0,5.9,14.2l-9.4,17.7a8,8,0,0,0,1.5,9.6l17,17a8,8,0,0,0,9.6,1.5l17.7-9.4a87.6,87.6,0,0,0,14.2,5.9l3.2,19.7A8,8,0,0,0,112,240h32a8,8,0,0,0,7.9-6.7l3.2-19.7a87.6,87.6,0,0,0,14.2-5.9l17.7,9.4a8,8,0,0,0,9.6-1.5l17-17a8,8,0,0,0,1.5-9.6l-9.4-17.7a87.6,87.6,0,0,0,5.9-14.2l19.7-3.2A8,8,0,0,0,240,144V112A8,8,0,0,0,237.7,110.4ZM128,176a48,48,0,1,1,48-48A48,48,0,0,1,128,176Z"/></svg>
                      Settings
                  </a>
                </li>
                <li class="transition">
                  <a href="/instance/<%= req.params.id %>/startup" class="nav-link2 py-2 px-3 transition border hover:bg-white/5 border-transparent hover:text-white hover:shadow rounded-full<% if (activeTab === 'startup') { %> text-white font-medium bg-white/10 shadow-sm<% } %>">
                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor" class="size-4 mb-0.5 inline-flex mr-1"><rect width="256" height="256" fill="none"/><path d="M32,80a8,8,0,0,1,8-8H88V64A24,24,0,0,1,136,64v8h48a8,8,0,0,1,8,8V208a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8ZM128,80h0a8,8,0,0,1,8,8v8h-16V88A8,8,0,0,1,128,80Zm0,120a32,32,0,1,0-32-32A32,32,0,0,0,128,200Z"/></svg>
                     Startup
                 </a>
               </li>

                <!-- PLUGIN MANAGER SIDEBAR ENTRY -->
                <li class="transition">
                  <a href="/instance/<%= req.params.id %>/plugins" class="nav-link2 py-2 px-3 transition border hover:bg-white/5 border-transparent hover:text-white hover:shadow rounded-full<% if (activeTab === 'plugins') { %> text-white font-medium bg-white/10 shadow-sm<% } %>">
                     <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                          stroke-width="2" stroke="currentColor" class="size-4 mb-0.5 inline-flex mr-1">
                       <path stroke-linecap="round" stroke-linejoin="round"
                             d="M10.5 6h3m-1.5 0V3m3.25 3.75l2.25-2.25m-.75 5.5l2.25 2.25m-5.5-.75V21m3.25-3.75l2.25 2.25m-8.5-8.5L2.75 8.25m3.5.75V21m4-4H6a2 2 0 01-2-2V9a2 2 0 012-2h12a2 2 0 012 2v6a2 2 0 01-2 2h-5v4a1 1 0 01-1 1z"/>
                     </svg>
                    Plugins
                  </a>
                </li>

                <% addons.plugins.forEach(plugin => { %>
                  <% if (plugin.instancesidebar) { %>
                      <% Object.entries(plugin.instancesidebar).forEach(([key, value]) => { %>
                <li class="transition">
                  <a href="<%= (value.url).replace('%id%', req.params.id) %>" class="nav-link2 py-2 px-3 transition border hover:bg-white/5 border-transparent hover:text-white hover:shadow rounded-full">
                     <i class="size-4 mb-0.5 inline-flex mr-1 <%= value.icon %>"></i>
                     <%= key %>
                 </a>
               </li>
               <% }); %>
               <% } %>
           <% }); %>
             </ul>
          </nav>
       </div>
    </div>
 </div>
 <script>
   document.addEventListener("DOMContentLoaded", function() {
     var currentPagePath = window.location.pathname;
     var navLinks2 = document.querySelectorAll('.nav-link2');
     var slidingBackground = document.getElementById('sliding-background');
     
     function updateActiveLink(clickedLink = null) {
       var activeLink = clickedLink || document.querySelector('.nav-link2[href="' + currentPagePath + '"]');
       if (activeLink) {
         navLinks2.forEach(link => {
           link.classList.remove('text-white', 'font-medium', 'bg-white/10', 'shadow-sm');
         });
         
         activeLink.classList.add('text-white', 'font-medium');
         
         var linkRect = activeLink.getBoundingClientRect();
         var navRect = activeLink.closest('nav').getBoundingClientRect();
         slidingBackground.style.width = linkRect.width + 'px';
         slidingBackground.style.transform = `translateX(${linkRect.left - navRect.left}px)`;
       }
     }
     
     // Initial setup
     updateActiveLink();
     
     navLinks2.forEach(function(link) {
       link.addEventListener('click', function(e) {
         e.preventDefault();
         var href = this.getAttribute('href');
         
         updateActiveLink(this);
         
         setTimeout(() => {
           window.location.href = href;
         }, 300);
       });
     });
     
     window.addEventListener('popstate', function() {
       currentPagePath = window.location.pathname;
       updateActiveLink();
     });
   });
 </script>
